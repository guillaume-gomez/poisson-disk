!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";var i=n(2),o=n(3),r=n(4),s=function(t,e){for(var n=0,i=0;i<t.length;i++)n+=Math.pow(t[i]-e[i],2);return n},a=function(t,e,n,r,s){n=n||2*e,this.shape=t,this.dimension=this.shape.length,this.minDistance=e,this.squaredMinDistance=e*e,this.deltaDistance=n-e,this.cellSize=e/Math.sqrt(this.dimension),this.maxTries=r||30,this.rng=s||Math.random,this.neighbourhood=function(t){var e,n=o(2,t),i=[];for(e=0;e<t;e++)i.push(0);return n.push(i),n.sort((function(e,n){for(var i=0,o=0,r=0;r<t;r++)i+=Math.pow(e[r],2),o+=Math.pow(n[r],2);return i<o?-1:i>o?1:0})),n}(this.dimension),this.currentPoint=null,this.processList=[],this.samplePoints=[],this.gridShape=[];for(var a=0;a<this.dimension;a++)this.gridShape.push(Math.ceil(t[a]/this.cellSize));this.grid=i(this.gridShape)};a.prototype.shape=null,a.prototype.dimension=null,a.prototype.minDistance=null,a.prototype.squaredMinDistance=null,a.prototype.deltaDistance=null,a.prototype.cellSize=null,a.prototype.maxTries=null,a.prototype.rng=null,a.prototype.neighbourhood=null,a.prototype.currentPoint=null,a.prototype.processList=null,a.prototype.samplePoints=null,a.prototype.gridShape=null,a.prototype.grid=null,a.prototype.addRandomPoint=function(){for(var t=new Array(this.dimension),e=0;e<this.dimension;e++)t[e]=this.rng()*this.shape[e];return this.directAddPoint(t)},a.prototype.addPoint=function(t){var e,n=!0;if(t.length===this.dimension)for(e=0;e<this.dimension&&n;e++)n=t[e]>=0&&t[e]<=this.shape[e];else n=!1;return n?this.directAddPoint(t):null},a.prototype.directAddPoint=function(t){var e,n=0,i=this.grid.stride;for(this.processList.push(t),this.samplePoints.push(t),e=0;e<this.dimension;e++)n+=(t[e]/this.cellSize|0)*i[e];return this.grid.data[n]=this.samplePoints.length,t},a.prototype.inNeighbourhood=function(t){var e,n,i,o,r,a=this.dimension,h=this.grid.stride;for(e=0;e<this.neighbourhood.length;e++){for(n=0,i=0;i<a;i++)(o=(t[i]/this.cellSize|0)+this.neighbourhood[e][i])>=0&&o<this.gridShape[i]&&(n+=o*h[i]);if(0!==this.grid.data[n]&&(r=this.samplePoints[this.grid.data[n]-1],s(t,r)<this.squaredMinDistance))return!0}return!1},a.prototype.next=function(){for(var t,e,n,i,o,s,a;this.processList.length>0;){for(null===this.currentPoint&&(this.currentPoint=this.processList.shift()),i=this.currentPoint,t=0;t<this.maxTries;t++){for(s=!0,n=this.minDistance+this.deltaDistance*this.rng(),2===this.dimension?(e=this.rng()*Math.PI*2,o=[Math.cos(e),Math.sin(e)]):o=r(this.dimension,this.rng),a=0;s&&a<this.dimension;a++)o[a]=i[a]+o[a]*n,s=o[a]>=0&&o[a]<=this.shape[a]-1;if(s&&!this.inNeighbourhood(o))return this.directAddPoint(o)}t===this.maxTries&&(this.currentPoint=null)}return null},a.prototype.fill=function(){for(0===this.samplePoints.length&&this.addRandomPoint();this.next(););return this.samplePoints},a.prototype.getAllPoints=function(){return this.samplePoints},a.prototype.reset=function(){var t=this.grid.data,e=0;for(e=0;e<t.length;e++)t[e]=0;this.samplePoints=[],this.currentPoint=null,this.processList.length=0},t.exports=a},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i);let r=[],s=1,a=4,h=2,l=3,u=2,c=5,d=5,p=15;function f(t=!0){let e=document.getElementById("myCanvas"),n="#"+$("#dot-color").val()||"#FF0000";t&&(e=function(){const t=document.createElement("CANVAS");return t.width=1e3,t.height=1200,t.id="myCanvas",t.style.backgroundColor="#9E82B8",document.getElementById("canvasId").appendChild(t),t}(),function(t){$("#export-to-png").click((function(){m(t)}))}(e),function(t){$("#export-to-png-no-bg").click((function(){m(t,!1)}))}(e),function(t){$("#reset").click((function(){t.getContext("2d").clearRect(0,0,t.width,t.height),f(!1)}))}(e),$("#dot-color").change((function(){const t="#"+$(this).val();let e=document.getElementById("myCanvas"),n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),r.forEach(({x:e,y:i})=>{g(n,e,i,1,t)})})),$("#nb-rows").slider({}),$("#nb-columns").slider({}),$("#min-distance").slider({}),$("#max-distance").slider({})),function(t,e){r=[];let n=t.getContext("2d");const i=$("#nb-rows").slider("getValue"),f=$("#nb-columns").slider("getValue"),m=$("#min-distance").slider("getValue"),v=$("#max-distance").slider("getValue");s=i[0],a=i[1],h=f[0],l=f[1],u=m[0],c=m[1],d=v[0],p=v[1],function t(e,n,i,f,m,v,M){if(v>2)return void function(t,e,n,i,s,a,h){const l=y(u,c),f=y(d,p),m=new o.a([s,a],l,f,30);m.fill().forEach(([o,s])=>{r.push({x:o+n,y:s+i}),g(t,o+n,s+i,e,h)})}(e,1,n,i,f,m,M);const P=y(s,a),b=m/P,w=y(h,l),x=f/w;let S=0,A=0;for(let o=0;o<P;o++){const r=y(0,20);for(let s=0;s<w;s++){const a=y(0,20);S=s*x,A=o*b;t(e,n+S,i+A,x-a,b-r,v+1,M)}}}(n,5,5,t.width,t.height,1,e)}(e,n)}function g(t,e,n,i,o){t.beginPath(),t.arc(e,n,i,0,2*Math.PI,!1),t.fillStyle=o,t.fill()}function m(t,e=!0){let n=document.createElement("canvas");n.width=t.width,n.height=t.height;let i=n.getContext("2d");e&&(i.fillStyle=t.style.backgroundColor,i.fillRect(0,0,t.width,t.height)),i.drawImage(t,0,0);const o=n.toDataURL("image/png").replace("image/png","image/octet-stream");var r=window.document.createElement("a");r.setAttribute("download","poison-disk-image.png"),r.setAttribute("href",o),r.click(),r.remove()}function y(t,e){return Math.round((e-t)*Math.random())+t}document.addEventListener("DOMContentLoaded",(function(){f()}))},function(t,e,n){"use strict";t.exports=function(t){var e,n=t.length,i=1,o=new Array(n);for(e=n;e>0;e--)o[e-1]=i,i*=t[e-1];return{stride:o,data:new Uint32Array(i)}}},function(t,e){t.exports=function(t,e){e=e||2;for(var n=2*(t=t||1)+1,i=Math.pow(n,e)-1,o=new Array(i),r=0;r<i;r++)for(var s=o[r]=new Array(e),a=r<i/2?r:r+1,h=1;h<=e;h++){var l=a%Math.pow(n,h);s[h-1]=l/Math.pow(n,h-1)-t,a-=l}return o}},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,o,r,s,a=new Array(t),h=Math.floor(t/2)<<1,l=0;for(s=0;s<h;s+=2)n=-2*Math.log(e()),i=Math.sqrt(n),o=2*Math.PI*e(),l+=n,a[s]=i*Math.cos(o),a[s+1]=i*Math.sin(o);if(t%2){var u=Math.sqrt(-2*Math.log(e()))*Math.cos(2*Math.PI*e());a[t-1]=u,l+=Math.pow(u,2)}for(r=1/Math.sqrt(l),s=0;s<t;++s)a[s]*=r;return a}}]);